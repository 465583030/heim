@import "defs.less";


.line-button(@color) {
  position: relative;
  color: @color;
  font-weight: bold;
  background: linear-gradient(to bottom, fade(@color, 0%) 0%, fade(@color, 35%) 0%) repeat-x;
  background-size: 1px 1px;
  background-position: 0 1.1em;
  .touchable-custom({
    color: black;
  });

  transition: color .25s ease;

  .larger-target(10px, 10px);

  &:focus {
    color: mix(@color, black, 15%);
    background: fade(@account-color, 20%);
    border-radius: 3px;
  }

  &:disabled {
    opacity: .5;
    pointer-events: none;
  }
}

.fill-button(@color) {
  @bgcolor: mix(lighten(@color, 5%), white, 30%);
  color: @color;
  font-weight: bold;
  background: @bgcolor;
  .touchable-custom({
    background: fade(@color, 50%)
  });
  padding: 10px 26px;
  border-radius: 3px;

  &:focus {
    background: darken(@bgcolor, 10%);
  }

  &:disabled {
    opacity: .5;
    pointer-events: none;
  }
}

.fields {
  .text-field {
    position: relative;
    display: block;
    font-size: .85rem;
    margin: 15px 0;

    input {
      display: block;
      width: 100%;
      border: 0;
      padding: 10px;
      margin-top: 5px;
      font-size: 1.15rem;
      box-sizing: border-box;
      border-radius: 3px;
      box-shadow: 0 0 5px fade(black, 35%);

      &:focus {
        box-shadow: 0 0 8px fade(saturate(@account-color, 95%), 55%);
      }

      &:disabled {
        background: white;
      }
    }

    &, .message, &:before {
      transition: opacity .1s ease, color .1s ease;
    }

    .icon('../res/error.svg', 40px, 0, 0);
    &:before {
      position: absolute;
      bottom: 0;
      right: 2px;
      background-size: 26px;
    }

    .message {
      position: absolute;
      top: 0;
      right: 0;
      opacity: 0;
    }

    &.error {
      input {
        box-shadow: 0 0 8px fade(@error-color, 70%);
        padding-right: 44px;
      }

      .message, &:before {
        opacity: 1;
      }
    }
  }

  .check-field {
    @size: 20px;
    position: relative;
    display: block;
    margin: 15px 0;
    padding-left: @size + 10px;
    line-height: @size;

    input[type="checkbox"] {
      // keep visible so that tabIndex works.
      width: 0;
      height: 0;
    }

    input[type="checkbox"] + label {
      &:after {
        content: '';
        display: inline-block;
        position: absolute;
        top: 0;
        left: 0;
        width: @size;
        height: @size;
        background: white;
        box-shadow: 0 0 5px fade(black, 35%);
        border-radius: 2px;
        cursor: pointer;
        transition: box-shadow .1s ease;
      }

      .icon('../res/check.svg', 23px);
      &:before {
        position: absolute;
        left: 1px;
        top: -3px;
        cursor: pointer;
        z-index: 10;
        opacity: 0;
        transition: opacity .1s ease;
      }
    }

    input[type="checkbox"]:focus + label {
      &:after {
        box-shadow: 0 0 8px fade(saturate(@account-color, 95%), 70%);
      }
    }

    input[type="checkbox"]:checked + label {
      &:before {
        opacity: 1;
      }
    }

    a {
      color: @account-color;
      font-weight: bold;
    }
  }

  .message {
    font-size: .85rem;
  }

  .error .message, .message.error {
    color: darken(@error-color, 5%);
  }
}
